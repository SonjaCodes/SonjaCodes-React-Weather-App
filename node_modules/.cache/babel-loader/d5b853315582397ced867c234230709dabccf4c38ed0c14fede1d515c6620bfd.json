{"ast":null,"code":"import\"./Weather.css\";import WeatherDetails from\"./WeatherDetails\";import axios from\"axios\";import{useState}from\"react\";import{DateTime}from\"luxon\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Weather(props){const[city,setCity]=useState(props.defaultCity);const[weatherOutput,setWeatherOutput]=useState({ready:false});const date=DateTime.now().toLocaleString(DateTime.DATETIME_MED_WITH_WEEKDAY);function displayWeatherOutput(response){setWeatherOutput({ready:true,date:date,city:response.data.city,coordinates:response.data.coordinates,temperature:Math.round(response.data.temperature.current),description:response.data.condition.description,humidity:response.data.temperature.humidity,wind:response.data.wind.speed,icon:response.data.condition.icon});}function handleSubmit(event){event.preventDefault();search();}function updateCity(event){setCity(event.target.value);}function search(){const apiKey=\"a5t17f04278fdb4bf8e3eb7e4o1ab606\";const apiUrl=`https://api.shecodes.io/weather/v1/current?query=${city}&key=${apiKey}&units=metric`;axios.get(apiUrl).then(displayWeatherOutput);}if(weatherOutput.ready){return/*#__PURE__*/_jsxs(\"div\",{className:\"Search\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"search-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Enter a city...\",required:true,class:\"search-form-input\",onChange:updateCity}),/*#__PURE__*/_jsx(\"input\",{className:\"search-button\",type:\"submit\",value:\"Search\"})]}),/*#__PURE__*/_jsx(WeatherDetails,{data:weatherOutput})]});}else{search();return\"Loading...\";}}","map":{"version":3,"names":["WeatherDetails","axios","useState","DateTime","jsx","_jsx","jsxs","_jsxs","Weather","props","city","setCity","defaultCity","weatherOutput","setWeatherOutput","ready","date","now","toLocaleString","DATETIME_MED_WITH_WEEKDAY","displayWeatherOutput","response","data","coordinates","temperature","Math","round","current","description","condition","humidity","wind","speed","icon","handleSubmit","event","preventDefault","search","updateCity","target","value","apiKey","apiUrl","get","then","className","children","onSubmit","type","placeholder","required","class","onChange"],"sources":["/Users/sonjakolmer/Documents/Coding/GitHub/sonjacodes-react-weather-app/src/Weather.js"],"sourcesContent":["import \"./Weather.css\";\nimport WeatherDetails from \"./WeatherDetails\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { DateTime } from \"luxon\";\n\nexport default function Weather(props) {\n  const [city, setCity] = useState(props.defaultCity);\n  const [weatherOutput, setWeatherOutput] = useState({ ready: false });\n  const date = DateTime.now().toLocaleString(\n    DateTime.DATETIME_MED_WITH_WEEKDAY\n  );\n\n  function displayWeatherOutput(response) {\n    setWeatherOutput({\n      ready: true,\n      date: date,\n      city: response.data.city,\n      coordinates: response.data.coordinates,\n      temperature: Math.round(response.data.temperature.current),\n      description: response.data.condition.description,\n      humidity: response.data.temperature.humidity,\n      wind: response.data.wind.speed,\n      icon: response.data.condition.icon,\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    search();\n  }\n  function updateCity(event) {\n    setCity(event.target.value);\n  }\n\n  function search() {\n    const apiKey = \"a5t17f04278fdb4bf8e3eb7e4o1ab606\";\n    const apiUrl = `https://api.shecodes.io/weather/v1/current?query=${city}&key=${apiKey}&units=metric`;\n    axios.get(apiUrl).then(displayWeatherOutput);\n  }\n\n  if (weatherOutput.ready) {\n    return (\n      <div className=\"Search\">\n        <form onSubmit={handleSubmit} className=\"search-form\">\n          <input\n            type=\"search\"\n            placeholder=\"Enter a city...\"\n            required\n            class=\"search-form-input\"\n            onChange={updateCity}\n          />\n          <input className=\"search-button\" type=\"submit\" value=\"Search\" />\n        </form>\n        <WeatherDetails data={weatherOutput} />\n      </div>\n    );\n  } else {\n    search();\n    return \"Loading...\";\n  }\n}\n"],"mappings":"AAAA,MAAO,eAAe,CACtB,MAAO,CAAAA,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,cAAe,SAAS,CAAAC,OAAOA,CAACC,KAAK,CAAE,CACrC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAACO,KAAK,CAACG,WAAW,CAAC,CACnD,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGZ,QAAQ,CAAC,CAAEa,KAAK,CAAE,KAAM,CAAC,CAAC,CACpE,KAAM,CAAAC,IAAI,CAAGb,QAAQ,CAACc,GAAG,CAAC,CAAC,CAACC,cAAc,CACxCf,QAAQ,CAACgB,yBACX,CAAC,CAED,QAAS,CAAAC,oBAAoBA,CAACC,QAAQ,CAAE,CACtCP,gBAAgB,CAAC,CACfC,KAAK,CAAE,IAAI,CACXC,IAAI,CAAEA,IAAI,CACVN,IAAI,CAAEW,QAAQ,CAACC,IAAI,CAACZ,IAAI,CACxBa,WAAW,CAAEF,QAAQ,CAACC,IAAI,CAACC,WAAW,CACtCC,WAAW,CAAEC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAACC,IAAI,CAACE,WAAW,CAACG,OAAO,CAAC,CAC1DC,WAAW,CAAEP,QAAQ,CAACC,IAAI,CAACO,SAAS,CAACD,WAAW,CAChDE,QAAQ,CAAET,QAAQ,CAACC,IAAI,CAACE,WAAW,CAACM,QAAQ,CAC5CC,IAAI,CAAEV,QAAQ,CAACC,IAAI,CAACS,IAAI,CAACC,KAAK,CAC9BC,IAAI,CAAEZ,QAAQ,CAACC,IAAI,CAACO,SAAS,CAACI,IAChC,CAAC,CAAC,CACJ,CAEA,QAAS,CAAAC,YAAYA,CAACC,KAAK,CAAE,CAC3BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBC,MAAM,CAAC,CAAC,CACV,CACA,QAAS,CAAAC,UAAUA,CAACH,KAAK,CAAE,CACzBxB,OAAO,CAACwB,KAAK,CAACI,MAAM,CAACC,KAAK,CAAC,CAC7B,CAEA,QAAS,CAAAH,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAAI,MAAM,CAAG,kCAAkC,CACjD,KAAM,CAAAC,MAAM,CAAG,oDAAoDhC,IAAI,QAAQ+B,MAAM,eAAe,CACpGxC,KAAK,CAAC0C,GAAG,CAACD,MAAM,CAAC,CAACE,IAAI,CAACxB,oBAAoB,CAAC,CAC9C,CAEA,GAAIP,aAAa,CAACE,KAAK,CAAE,CACvB,mBACER,KAAA,QAAKsC,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBvC,KAAA,SAAMwC,QAAQ,CAAEb,YAAa,CAACW,SAAS,CAAC,aAAa,CAAAC,QAAA,eACnDzC,IAAA,UACE2C,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,iBAAiB,CAC7BC,QAAQ,MACRC,KAAK,CAAC,mBAAmB,CACzBC,QAAQ,CAAEd,UAAW,CACtB,CAAC,cACFjC,IAAA,UAAOwC,SAAS,CAAC,eAAe,CAACG,IAAI,CAAC,QAAQ,CAACR,KAAK,CAAC,QAAQ,CAAE,CAAC,EAC5D,CAAC,cACPnC,IAAA,CAACL,cAAc,EAACsB,IAAI,CAAET,aAAc,CAAE,CAAC,EACpC,CAAC,CAEV,CAAC,IAAM,CACLwB,MAAM,CAAC,CAAC,CACR,MAAO,YAAY,CACrB,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}